## UPPSペルソナエディター 要件定義書

### 1. プロジェクト概要
UPPS（Unified Personality Profile Standard）ペルソナデータを直感的かつ軽量に閲覧・編集できるWebエディターを開発する。対象は研究者と一般ユーザー。複雑なグラフUIを排し、リスト・フォーム・カード型中心のシンプルなUIを採用する。

### 2. 目的
- 専門家も一般ユーザーも利用可能な、軽量・簡易なペルソナエディターを実現する。
- 感情・記憶・関連性の構造を分かりやすく編集可能にする。
- UPPS規格に準拠したYAMLデータの入出力を保証する。

### 3. 機能要件
- ペルソナ基本情報のCRUD
- 性格特性（BigFive）の編集（スライダー入力）
- 価値観、嗜好、目標等の入力（任意）
- 感情モデルの選択・感情値の編集
- 記憶エントリのCRUD
- 関連性エントリのCRUD（フォーム型編集）
- YAMLデータのインポート・エクスポート
- オプションでネットワーク図の閲覧（編集不可）
- 入力バリデーションとスキーマ準拠チェック

### 4. 非機能要件
- 軽量・高速（低スペック環境でも動作）
- 直感的な操作（初心者に配慮）
- 専門ユーザー向け詳細モード（高度編集機能）
- マルチプラットフォーム対応（主要ブラウザ）
- 保守性・拡張性の高いモジュール設計

### 5. UI構成
- トップメニュー：新規作成／読み込み／簡易ガイド
- タブ切替式編集画面：
  - 基本情報タブ
  - 性格特性タブ
  - 感情システムタブ
  - 記憶システムタブ
  - 関連性ネットワークタブ
  - オプション：ネットワーク図表示
- 各タブでCRUD可能
- 設定・ヘルプ・インポート・エクスポートメニュー

### 6. 技術要件
- フロントエンド：Alpine.js＋プレーンJavaScript（必要時 Vue.js）
- スタイリング：Tailwind CSS または Bulma
- データ管理：JavaScriptオブジェクト／LocalStorage
- ファイル処理：js-yaml ライブラリ
- 図描画（オプション）：D3.js

---

## UPPSペルソナエディター 仕様書

### 1. データ構造
- 入出力：UPPS準拠のYAML形式
- ペルソナ項目：personal_info、background、BigFive、emotion_system、memory_system、association_system

### 2. 機能詳細

#### 基本情報管理
- 氏名、年齢、性別、職業、文化背景：テキスト入力
- 背景説明：複数行テキスト

#### 性格特性編集
- BigFiveスライダー（0〜100％）
- 価値観、好き嫌い、目標等：チェックボックス・入力欄（任意）

#### 感情システム編集
- 感情モデル選択（Ekman/Plutchik/カスタム）
- 感情一覧表示・基準値編集（スライダー／数値）
- 追加感情の投入
- 現在感情状態の簡易表示

#### 記憶システム編集
- 記憶一覧表示（フィルタ・検索機能）
- CRUD操作：ID、タイプ、内容、時期、文脈の編集
- 関連リンク一覧の表示（該当記憶が関与する関連性）

#### 関連性ネットワーク編集
- 一覧形式のCRUD（トリガー／レスポンス／強度）
- 関連性追加時：ドロップダウンで種別選択、対象ID選択、強度入力
- 複合条件は詳細モードで設定可

#### データ入出力
- YAMLファイル読込／書出し
- 保存時スキーマチェック（形式不備を検知し警告表示）

#### オプション：ネットワーク図表示
- D3.jsによるノードリンク図生成
- 閲覧専用（ドラッグでレイアウト調整可）

### 3. バリデーションルール
- IDは英数字・アンダースコアのみ可
- ID重複禁止（自動チェック）
- 必須項目未入力時は保存不可

### 4. 開発体制
- GitHubベースでバージョン管理・Issue管理
- YAMLバリデータの導入検討
- ステージング環境の設置（ブラウザ検証）

---

今後必要であれば、テスト仕様書、画面遷移図、詳細プロンプト集も作成可能です。

